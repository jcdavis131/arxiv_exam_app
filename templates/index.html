<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>arXiv IQ</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%231a1a1a'><path d='M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z'/></svg>">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>arXiv IQ</h1>
            <p class="subtitle">Research Paper Exam Question Generator</p>
            <img src="/static/logo-hero-new.png" alt="arXiv IQ Logo" class="hero-logo">
        </header>
        
        <main class="main-content">
            <p class="description">
                Enter an arXiv paper ID to generate a 10-question examination 
                (7 multiple-choice + 3 open-ended) based on full paper analysis.
            </p>
            
            <div class="teacher-mode-toggle">
                <span class="teacher-mode-label">Teacher Mode</span>
                <div class="toggle-switch" id="teacherModeToggle">
                    <div class="toggle-slider"></div>
                </div>
                <span class="teacher-mode-description">
                    Show all answers and 3 graded example responses (scores 3-5) for each open-ended question
                </span>
            </div>
            
            <div class="llm-config-section">
                <h3>LLM Configuration</h3>
                <div class="config-grid">
                    <div class="config-item">
                        <label for="llmProvider">Provider:</label>
                        <select id="llmProvider" class="config-select">
                            <option value="openai">OpenAI</option>
                            <option value="anthropic">Anthropic</option>
                            <option value="groq">Groq</option>
                            <option value="huggingface">Hugging Face</option>
                        </select>
                    </div>
                    <div class="config-item">
                        <label for="llmModel">Model:</label>
                        <select id="llmModel" class="config-select">
                            <option value="gpt-4o-mini">gpt-4o-mini</option>
                        </select>
                    </div>
                    <div class="config-item full-width">
                        <label for="apiKey">API Key:</label>
                        <input type="password" id="apiKey" class="config-input" placeholder="Enter your API key">
                        <button id="saveConfig" class="save-btn">Save</button>
                    </div>
                </div>
                <div class="config-status" id="configStatus"></div>
            </div>
            
            <div class="input-section">
                <input type="text" 
                       id="arxivIdInput" 
                       placeholder="e.g., 2406.01234" 
                       aria-label="arXiv paper ID">
                <button id="generateExamBtn" type="button">
                    Generate Exam
                </button>
            </div>
            <button id="downloadExamBtn" style="display: none;">Download Exam (JSON)</button>
            
            <div class="loading" id="loadingIndicator">
                <div class="progress-container">
                    <div class="progress-header">
                        <h3>Generating Your Exam</h3>
                        <span class="progress-percentage" id="progressPercentage">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-steps">
                        <div class="progress-step" id="step1">
                            <div class="step-icon">1</div>
                            <div class="step-text">Fetching paper content</div>
                        </div>
                        <div class="progress-step" id="step2">
                            <div class="step-icon">2</div>
                            <div class="step-text">Analyzing document structure</div>
                        </div>
                        <div class="progress-step" id="step3">
                            <div class="step-icon">3</div>
                            <div class="step-text">Processing with AI</div>
                        </div>
                        <div class="progress-step" id="step4">
                            <div class="step-icon">4</div>
                            <div class="step-text">Generating 7 multiple-choice questions</div>
                        </div>
                        <div class="progress-step" id="step5">
                            <div class="step-icon">5</div>
                            <div class="step-text">Generating 3 open-ended questions</div>
                        </div>
                        <div class="progress-step" id="step6">
                            <div class="step-icon">6</div>
                            <div class="step-text">Finalizing exam</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="examContainer" class="exam-container"></div>
            <div id="errorContainer" class="error-container" role="alert"></div>
        </main>
    </div>
    
    <footer class="footer">
        <p>&copy; 2025 arXiv Exam Generator. All rights reserved.</p>
        <p>Visit the project on GitHub: <a href="https://github.com/jcdavis131/arxiv-exam-app" target="_blank" rel="noopener noreferrer">jcdavis131/arxiv-exam-app</a></p>
    </footer>

    <script src="/static/script.js"></script>
</body>
</html>